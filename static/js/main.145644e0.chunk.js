(this.webpackJsonpgithubapi=this.webpackJsonpgithubapi||[]).push([[0],{13:function(e,t,s){},14:function(e,t,s){},15:function(e,t,s){},16:function(e,t,s){"use strict";s.r(t);var r=s(0),o=s(1),i=s.n(o),n=s(7),a=s.n(n),u=(s(13),s(14),s(2)),c=s(3),l=s(5),p=s(4),f=(s(15),function(e){Object(l.a)(s,e);var t=Object(p.a)(s);function s(e){var r;return Object(u.a)(this,s),(r=t.call(this,e)).state={},r}return Object(c.a)(s,[{key:"render",value:function(){var e=this.props.user;return Object(r.jsxs)("div",{children:["Name: ",e.name,Object(r.jsx)("br",{}),"Repositories: ",e.public_repos,Object(r.jsx)("br",{}),"Followers: ",e.followers,Object(r.jsx)("br",{}),"Following: ",e.following,Object(r.jsx)("br",{}),"Pull Requests: ",e.pullrequest,Object(r.jsx)("br",{}),"Last week commits: ",e.commits]})}}]),s}(i.a.Component)),m=function(e){Object(l.a)(s,e);var t=Object(p.a)(s);function s(e){var r;return Object(u.a)(this,s),(r=t.call(this,e)).resetUser1=function(e){var t=r.state.user1;t={message:e?"":"user does not exist",img:"https://payalchitroda.github.io/githubapi/default-avatar.png",name:"",public_repos:"",followers:"",following:"",repositories:[],pullrequest:0,commits:0},r.setState({user1:t})},r.resetUser2=function(e){var t=r.state.user2;t={message:e?"":"user does not exist",img:"https://payalchitroda.github.io/githubapi/default-avatar.png",name:"",public_repos:"",followers:"",following:"",repositories:[],pullrequest:0,commits:0},r.setState({user2:t})},r.getRepositories=function(e,t){fetch("https://api.github.com/users/"+e+"/repos").then((function(e){return e.json()})).then((function(s){var o=0==t?r.state.user1:r.state.user2;s.map((function(s){o.repositories.push(s.name),r.getPullRequest(e,s.name,t),r.getCommits(e,s.name,t)})),0==t?r.setState({user1:o}):r.setState({user2:o})})).catch((function(e){console.log(e)}))},r.getPullRequest=function(e,t,s){var o=0==s?r.state.user1:r.state.user2;fetch("https://api.github.com/repos/"+e+"/"+t+"/pulls").then((function(e){return e.json()})).then((function(e){o.pullrequest+=e.length,0==s?r.setState({user1:o}):r.setState({user2:o})})).catch((function(e){console.log(e)}))},r.getCommits=function(e,t,s){var o=0==s?r.state.user1:r.state.user2;fetch("https://api.github.com/repos/"+e+"/"+t+"/stats/participation").then((function(e){return e.json()})).then((function(e){console.log(t),console.log(e),o.commits+=e.owner[51],0==s?r.setState({user1:o}):r.setState({user2:o})})).catch((function(e){console.log(e)}))},r.checkRateLimit=function(){fetch("https://api.github.com/rate_limit").then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},r.stats=function(){r.refs.user1.value&&r.refs.user2.value?(r.resetUser1(!0),r.resetUser2(!0),Promise.all([fetch("https://api.github.com/users/"+r.refs.user1.value),fetch("https://api.github.com/users/"+r.refs.user2.value)]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){var t=r.state.user1,s=r.state.user2;e[0].message&&e[1].message?(r.resetUser1(!1),r.resetUser2(!1)):e[0].message?(r.resetUser1(!1),r.getRepositories(r.refs.user2.value,1),s.img=e[1].avatar_url,s.name=e[1].name,s.public_repos=e[1].public_repos,s.message="",s.followers=e[1].followers,s.following=e[1].following):e[1].message?(r.resetUser2(!1),r.getRepositories(r.refs.user1.value,0),t.img=e[0].avatar_url,t.name=e[0].name,t.public_repos=e[0].public_repos,t.message="",t.followers=e[0].followers,t.following=e[0].following):(r.getRepositories(r.refs.user1.value,0),r.getRepositories(r.refs.user2.value,1),t.img=e[0].avatar_url,t.name=e[0].name,t.public_repos=e[0].public_repos,t.message="",t.followers=e[0].followers,t.following=e[0].following,s.img=e[1].avatar_url,s.name=e[1].name,s.public_repos=e[1].public_repos,s.message="",s.followers=e[1].followers,s.following=e[1].following),r.setState({user1:t,user2:s})})).catch((function(e){console.log(e)}))):alert("Enter all fields"),console.log(r.state.user1)},r.state={user1:{img:"https://payalchitroda.github.io/githubapi/default-avatar.png",name:"",public_repos:"",message:"",followers:"",following:"",repositories:[],pullrequest:0,commits:0},user2:{img:"https://payalchitroda.github.io/githubapi/default-avatar.png",name:"",public_repos:"",message:"",followers:"",following:"",repositories:[],pullrequest:0,commits:0}},r}return Object(c.a)(s,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"left",children:[Object(r.jsx)("img",{src:this.state.user1.img}),Object(r.jsx)("br",{}),"   ",Object(r.jsx)("br",{}),"UserName:",Object(r.jsx)("input",{ref:"user1",type:"text",name:"user1"}),Object(r.jsx)("br",{}),this.state.user1.message,Object(r.jsx)("br",{}),Object(r.jsx)(f,{user:this.state.user1})]}),Object(r.jsxs)("div",{className:"middle",children:[Object(r.jsx)("button",{onClick:function(){return e.stats()},children:"Get stats"}),Object(r.jsx)("button",{onClick:function(){return e.checkRateLimit()},children:"check rate limit"})]}),Object(r.jsxs)("div",{className:"right",children:[Object(r.jsx)("img",{src:this.state.user2.img}),Object(r.jsx)("br",{}),"   ",Object(r.jsx)("br",{}),"UserName:",Object(r.jsx)("input",{ref:"user2",type:"text",name:"user2"}),Object(r.jsx)("br",{}),this.state.user2.message,Object(r.jsx)("br",{}),Object(r.jsx)(f,{user:this.state.user2})]})]})}}]),s}(i.a.Component);var g=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(m,{})})},b=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,17)).then((function(t){var s=t.getCLS,r=t.getFID,o=t.getFCP,i=t.getLCP,n=t.getTTFB;s(e),r(e),o(e),i(e),n(e)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(g,{})}),document.getElementById("root")),b()}},[[16,1,2]]]);
//# sourceMappingURL=main.145644e0.chunk.js.map