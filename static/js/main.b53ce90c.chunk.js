(this.webpackJsonpgithubapi=this.webpackJsonpgithubapi||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},16:function(e,t,s){},17:function(e,t,s){"use strict";s.r(t);var r=s(0),n=s(1),u=s.n(n),c=s(8),i=s.n(c),a=(s(14),s(15),s(2)),o=s(3),l=s(4),b=s(6),j=s(5),h=(s(16),function(e){Object(b.a)(s,e);var t=Object(j.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).state={},r}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props.user;return Object(r.jsxs)("div",{children:["Name: ",e.name,Object(r.jsx)("br",{}),"Repositories: ",e.public_repos,Object(r.jsx)("br",{}),"Followers: ",e.followers,Object(r.jsx)("br",{}),"Following: ",e.following,Object(r.jsx)("br",{}),"Pull Requests: ",e.pullrequest,Object(r.jsx)("br",{}),"Last week commits: ",e.commits]})}}]),s}(u.a.Component)),f={img:"https://payalchitroda.github.io/githubapi/default-avatar.png",name:"",public_repos:"",message:"",followers:"",following:"",repositories:[],pullrequest:0,commits:0},m=new AbortController,p=m.signal,g=function(e){Object(b.a)(s,e);var t=Object(j.a)(s);function s(e){var r;return Object(o.a)(this,s),(r=t.call(this,e)).resetUser=function(e,t){var s=0===t?r.state.user1:r.state.user2;s=Object(a.a)(Object(a.a)({},f),{},{message:e?"":"user does not exist"}),0===t?r.setState({user1:s}):r.setState({user2:s})},r.getRepositories=function(e,t){fetch("https://api.github.com/users/"+e+"/repos",{signal:p}).then((function(e){return e.json()})).then((function(s){var n=0===t?r.state.user1:r.state.user2;s.map((function(s){n.repositories.push(s.name),r.getPullRequest(e,s.name,t),r.getCommits(e,s.name,t)})),0===t?r.setState({user1:n}):r.setState({user2:n})})).catch((function(e){console.log(e)}))},r.getPullRequest=function(e,t,s){var n=0===s?r.state.user1:r.state.user2;fetch("https://api.github.com/repos/"+e+"/"+t+"/pulls",{signal:p}).then((function(e){return e.json()})).then((function(e){n.pullrequest+=e.length,0===s?r.setState({user1:n}):r.setState({user2:n})})).catch((function(e){console.log(e)}))},r.getCommits=function(e,t,s){var n=0===s?r.state.user1:r.state.user2;fetch("https://api.github.com/repos/"+e+"/"+t+"/stats/participation",{signal:p}).then((function(e){return e.json()})).then((function(e){n.commits+=e.owner[51],0===s?r.setState({user1:n}):r.setState({user2:n})})).catch((function(e){console.log(e)}))},r.checkRateLimit=function(){fetch("https://api.github.com/rate_limit").then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},r.cancelrequest=function(){alert("Pull request and Last week commits aborted"),m.abort()},r.setUserValue=function(e,t){var s=0===e?r.state.user1:r.state.user2;s={img:t.avatar_url,name:t.name,public_repos:t.public_repos,message:"",followers:t.followers,following:t.following,repositories:[],pullrequest:0,commits:0},0===e?r.setState({user1:s}):r.setState({user2:s})},r.stats=function(){r.refs.user1.value&&r.refs.user2.value?(r.resetUser(!0,0),r.resetUser(!0,1),Promise.all([fetch("https://api.github.com/users/"+r.refs.user1.value),fetch("https://api.github.com/users/"+r.refs.user2.value)]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){e[0].message&&e[1].message?(r.resetUser(!1,0),r.resetUser(!1,1)):e[0].message?(r.resetUser(!1,0),r.getRepositories(r.refs.user2.value,1),r.setUserValue(1,e[1])):e[1].message?(r.resetUser(!1,1),r.getRepositories(r.refs.user1.value,0),r.setUserValue(0,e[0])):(r.getRepositories(r.refs.user1.value,0),r.getRepositories(r.refs.user2.value,1),r.setUserValue(0,e[0]),r.setUserValue(1,e[1]))})).catch((function(e){console.log(e)}))):alert("Enter all fields")},r.state={user1:Object(a.a)({},f),user2:Object(a.a)({},f)},r}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(r.jsxs)("div",{children:[Object(r.jsxs)("div",{className:"left",children:[Object(r.jsx)("img",{src:this.state.user1.img}),Object(r.jsx)("br",{}),"   ",Object(r.jsx)("br",{}),"UserName:",Object(r.jsx)("input",{ref:"user1",type:"text",name:"user1"}),Object(r.jsx)("br",{}),this.state.user1.message,Object(r.jsx)("br",{}),Object(r.jsx)(h,{user:this.state.user1})]}),Object(r.jsxs)("div",{className:"middle",children:[Object(r.jsx)("button",{onClick:function(){return e.stats()},children:"Get stats"}),Object(r.jsx)("button",{onClick:function(){return e.cancelrequest()},children:"cancel request"}),Object(r.jsx)("button",{onClick:function(){return e.checkRateLimit()},children:"check rate limit"})]}),Object(r.jsxs)("div",{className:"right",children:[Object(r.jsx)("img",{src:this.state.user2.img}),Object(r.jsx)("br",{}),"   ",Object(r.jsx)("br",{}),"UserName:",Object(r.jsx)("input",{ref:"user2",type:"text",name:"user2"}),Object(r.jsx)("br",{}),this.state.user2.message,Object(r.jsx)("br",{}),Object(r.jsx)(h,{user:this.state.user2})]})]})}}]),s}(u.a.Component);var O=function(){return Object(r.jsx)("div",{className:"App",children:Object(r.jsx)(g,{})})},x=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,18)).then((function(t){var s=t.getCLS,r=t.getFID,n=t.getFCP,u=t.getLCP,c=t.getTTFB;s(e),r(e),n(e),u(e),c(e)}))};i.a.render(Object(r.jsx)(u.a.StrictMode,{children:Object(r.jsx)(O,{})}),document.getElementById("root")),x()}},[[17,1,2]]]);
//# sourceMappingURL=main.b53ce90c.chunk.js.map