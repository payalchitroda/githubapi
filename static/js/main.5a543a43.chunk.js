(this.webpackJsonpgithubapi=this.webpackJsonpgithubapi||[]).push([[0],{14:function(e,t,s){},15:function(e,t,s){},16:function(e,t,s){},17:function(e,t,s){"use strict";s.r(t);var n=s(0),r=s(1),c=s.n(r),i=s(8),o=s.n(i),u=(s(14),s(15),s(2)),a=s(3),l=s(4),b=s(6),j=s(5),h=(s(16),function(e){Object(b.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).state={},n}return Object(l.a)(s,[{key:"render",value:function(){var e=this.props.user;return Object(n.jsxs)("div",{children:["Name: ",e.name,Object(n.jsx)("br",{}),"Repositories: ",e.public_repos,Object(n.jsx)("br",{}),"Followers: ",e.followers,Object(n.jsx)("br",{}),"Following: ",e.following,Object(n.jsx)("br",{}),"Pull Requests: ",e.pullrequest,Object(n.jsx)("br",{}),"Last week commits: ",e.commits]})}}]),s}(c.a.Component)),f={img:"https://payalchitroda.github.io/githubapi/default-avatar.png",name:"",public_repos:"",message:"",followers:"",following:"",repositories:[],pullrequest:0,commits:0},m=new AbortController,g=m.signal,p=function(e){Object(b.a)(s,e);var t=Object(j.a)(s);function s(e){var n;return Object(a.a)(this,s),(n=t.call(this,e)).getUser=function(e){return 0===e?n.state.user1:n.state.user2},n.setUser=function(e,t){0===e?n.setState({user1:t}):n.setState({user2:t})},n.resetUser=function(e,t){var s=n.getUser(t);s=Object(u.a)(Object(u.a)({},f),{},{message:e?"":"user does not exist"}),n.setUser(t,s)},n.getRepositories=function(e,t){fetch("https://api.github.com/users/"+e+"/repos",{signal:g}).then((function(e){return e.json()})).then((function(s){var r=n.getUser(t);s.map((function(s){r.repositories.push(s.name),n.getPullRequest(e,s.name,t),n.getCommits(e,s.name,t)})),n.setUser(t,r)})).catch((function(e){console.log(e)}))},n.getPullRequest=function(e,t,s){var r=n.getUser(s);fetch("https://api.github.com/repos/"+e+"/"+t+"/pulls",{signal:g}).then((function(e){return e.json()})).then((function(e){r.pullrequest+=e.length,n.setUser(s,r)})).catch((function(e){console.log(e)}))},n.getCommits=function(e,t,s){var r=n.getUser(s);fetch("https://api.github.com/repos/"+e+"/"+t+"/stats/participation",{signal:g}).then((function(e){return e.json()})).then((function(e){r.commits+=e.owner[51],n.setUser(s,r)})).catch((function(e){console.log(e)}))},n.checkRateLimit=function(){fetch("https://api.github.com/rate_limit").then((function(e){return e.json()})).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},n.cancelrequest=function(){alert("Pull request and Last week commits aborted"),m.abort()},n.setUserValue=function(e,t){var s=n.getUser(e);s={img:t.avatar_url,name:t.name,public_repos:t.public_repos,message:"",followers:t.followers,following:t.following,repositories:[],pullrequest:0,commits:0},n.setUser(e,s)},n.stats=function(){n.refs.user1.value&&n.refs.user2.value?(n.resetUser(!0,0),n.resetUser(!0,1),Promise.all([fetch("https://api.github.com/users/"+n.refs.user1.value),fetch("https://api.github.com/users/"+n.refs.user2.value)]).then((function(e){return Promise.all(e.map((function(e){return e.json()})))})).then((function(e){e[0].message&&e[1].message?(n.resetUser(!1,0),n.resetUser(!1,1)):e[0].message?(n.resetUser(!1,0),n.setUserValue(1,e[1])):e[1].message?(n.resetUser(!1,1),n.setUserValue(0,e[0])):(n.setUserValue(0,e[0]),n.setUserValue(1,e[1]))})).catch((function(e){console.log(e.message)}))):alert("Enter all fields")},n.state={user1:Object(u.a)({},f),user2:Object(u.a)({},f)},n}return Object(l.a)(s,[{key:"render",value:function(){var e=this;return Object(n.jsxs)("div",{children:[Object(n.jsxs)("div",{className:"left",children:[Object(n.jsx)("img",{src:this.state.user1.img}),Object(n.jsx)("br",{}),"   ",Object(n.jsx)("br",{}),"UserName:",Object(n.jsx)("input",{ref:"user1",type:"text",name:"user1",onChange:function(){return e.stats()}}),Object(n.jsx)("br",{}),this.state.user1.message,Object(n.jsx)("br",{}),Object(n.jsx)(h,{user:this.state.user1})]}),Object(n.jsxs)("div",{className:"middle",children:[Object(n.jsx)("button",{onClick:function(){return e.stats()},children:"Get stats"}),Object(n.jsx)("button",{onClick:function(){return e.cancelrequest()},children:"cancel request"}),Object(n.jsx)("button",{onClick:function(){return e.checkRateLimit()},children:"check rate limit"})]}),Object(n.jsxs)("div",{className:"right",children:[Object(n.jsx)("img",{src:this.state.user2.img}),Object(n.jsx)("br",{}),"   ",Object(n.jsx)("br",{}),"UserName:",Object(n.jsx)("input",{ref:"user2",type:"text",name:"user2",onChange:function(){return e.stats()}}),Object(n.jsx)("br",{}),this.state.user2.message,Object(n.jsx)("br",{}),Object(n.jsx)(h,{user:this.state.user2})]})]})}}]),s}(c.a.Component);var O=function(){return Object(n.jsx)("div",{className:"App",children:Object(n.jsx)(p,{})})},x=function(e){e&&e instanceof Function&&s.e(3).then(s.bind(null,18)).then((function(t){var s=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;s(e),n(e),r(e),c(e),i(e)}))};o.a.render(Object(n.jsx)(c.a.StrictMode,{children:Object(n.jsx)(O,{})}),document.getElementById("root")),x()}},[[17,1,2]]]);
//# sourceMappingURL=main.5a543a43.chunk.js.map